local map = MapDef(
    4803,
    "0801211125",
    "68657C536C452D60755B216E58642336536C285230753C4A384C5A316B7760534A362C752A2878436D575C3A3E21413C734C6C5C4620654D2C44272532626A3F7B78487E266B286F2E5E49317B426C66397445552532354D46305C507F5D2236563D4A483C6C682A305C2F4F635B2973764E4C275E78683925326234423565563878765042276279766829202A55622F7125323564426A3D4432487B3F455B5438502A424D2D3E5A5B4B367F6972556C71442025326278495A7F32522532354749477B4D75784A2425326241585C352C3A2371584A7C66234C327A223E25326221305222585E5441745240705053666C205F55444B4C47453471327A354C6F2444314F79713E5D7C283E64635C4D",
    "HhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaqIHhaaeaaaaaGhaaeaaadEHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaapCHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaGhaaeaaadEHhaaeaaaaaHhaaeaaapCHhaaeaaaaaHhaaeaaaaaGhaaeaaadFGhaaeaaaduHhaaeaaapCHhaaeaaapCHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaapCHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaGhaaeaaaduGhaaeaaaduHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaGhaaeaaadFHhaaeaaaaaHhaaeaaapCGhaaeaaadFHhaaeaaapCHhaaeaaaaaHhaaeaaadAGhaaeaaaduHhaaeaaadAHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaapCHhaaeaaaaaGhaaeaaadEGhaaeaaadFGhaaeaaaduGhaaeaaadEHhaaeaaapCGhaaeaaadFHhGaeaaapCHhGaeaaapBGhaaeaaaduGhaaeaaaduHhaaeaaaaaHhaaeaaaaaHhaaeaaapCHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaadAHhGaeqNapCGhaaeaaadFHhaaeaaadAHhGaeaaapCHhGaeaaaaaHhGaeaaaaaGhaaeaaadFHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeqNapCHhaaeaaaaaHhaaeaaaaaGhaaeaaavzHhGaeaaaaaHhGaeqNaaaHhGaeaaapBHhGaeaaaaaHhGaeaaaaaHhaaeaaadAHhGaeaaaaaHhGaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeqNapCGhaaeaaavKGhaaeaaadFHhGaeaaapBHhGaeaaapCHhGaeaaapCGhaaeaaaduHhGaeaaaaaHhGaeaaapBGhaaeaaavAHhGaeaaaaaHhaaeaaaaaHhaaeaaaqIHhaaeaaaaaHhaaeqNapCHhaaeaaavSHhaaeaaapBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeqNaaaHhaaeaaadyHhGaeaaaaaHhGaeaaaaaGhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaapCHhaaeaaavRHhaaeaaadAGhaaeaaadSHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaapBHhGaeaaapCHhGaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaavSHhaaeaaadyHhGaeaaapBGhaaeaaavyHhGaeaaapBHhGaeaaaaaHhGaeaaaaaHhGaeaaapCHhGaeaaaaaHhGaeaaapBHhGaeaaaaaHhGaeaaaaaHhaaeaaadAHhaaeaaaaaHhaaeaaavSHhGaeaaaaaHhGaebNaaaHhGaeaaaaaHhGaebNapBHhGaebNaaaHhGaebNaaaHhGaeaaapBHhGaeaaaaaHhGaeaaaeAHhGaeaaapAHhGaeaaaaaHhGaeaaaaaHhGaeaaapBHhaaeaaapBHhGaeaaapBHhGaeaaaaaHhGaebNaaaHhGaebNaaaGhaaebNavBHhGaeaaaaaHhGaeqNaaaHhGaeaaapCHhGaebNaaaHhGaeaaapBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeqNaaaHhqaeiFaaaHhaaebNaiOHhGaeaaaaaHhGaeqNaaaHhGaeaaapBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeqNaaaHhGaeaaaaaHhaaeaaaaaHhqaeqgaaaHhGaeaaaaaHhGaeqNaaaHhGaeaaaaaHhGaeaaaaaGhaaeaaavxHhGaeqNaaaHhGaeqNaaaHhGaeaaaaaHhGaeaaaaaHhGaeqNaaaHhGaeqNaaaHhGaebNaaaHhqaeqgaaaHhaaeaaaaaHhGaeaaaaaHhGaeqNaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaiOHhGaeqNaaaHhGaeqNaaaHhGaeaaapBHhGaeaaaaaHhGaeqNaaaHhGaeaaaaaHhGaeaaaaaHhaaeqNaaaHhGaeaaapCHhGaeaaaaaHhGaeqNaaaHhGaeaaapBHhGaebNapBHhGaeaaaaaHhaaeaaaiOHhGaeaaaaaHhGaeqNaaaHhGaeaaaaaHhGaeaaaaaHhGaeqNaaaHhGaebNapBHhGaeaaaaaHhaaeqNaaaHhGaeaaapBHhGaebNaaaHhGaebNaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaapBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaGhaaebNavxHhGaeaaaaaHhaaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaebNaaaHhGaebNaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaebNapBHhGaeaaaaaHhGaeaaaaaHhGaebNaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaapBHhGaeaaaaaHhGaebNaaaHhGaebNaaaHhGaeaaaaaHhGaeaaapBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaGhaaebNavxHhGaebNaaaGhaaeaaavyHhaaeqNaaaHhGaeaaaaaHhGaebNaaaHhGaeaaaaaHhGaebNaaaHhGaebNaaaHhGaeaaaaaHhGaeaaapBHhGaeaaaaaHhaaebNaiOHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaapBHhaaeaaaaaHhGaeaaaaaHhGaeaaaaaGhaaeaaavyHhGaebNaaaHhGaeaaaaaHhGaeaaapCHhGaeaaaaaHhGaeaaaaaHhaaeaaaiOHhGaebNaaaHhGaeaaapBGhaaeaaavBHhGaeaaaaaHhaaeaaadyHhGaeaaaaaHhaaeaaaiOHhGaeaaaaaHhaaeaaaiOHhGaeqNaaaHhGaeqNaaaHhGaeaaaaaHhGaeaaaaaHhGaebNaaaGhaaebNavBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaapBHhaaeaaapBHhGaeaaaaaGhaaebNavBHhGaeaaaaaGhaaebNavBHhGaeqNaaaHhGaeaaapCHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaiOHhGaeaaaaaGhaaeaaadSHhGaeaaaaaHhaaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaebNaiOHhGaeaaaaaHhGaeaaapBHhGaeaaaaaHhGaeaaapBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaGhaaeaaavxHhGaeaaapBHhGaeaaaaaHhGaeaaaaaHhaaeqNaaaHhGaeaaaaaHhGaeaaaaaGhaaebNavyHhGaebNaaaHhGaeaaaaaHhGaeaaaaaHhGaecFaaaHhGaeaaaaaHhGaeaaaaaHhGaeqNaaaHhGaeqNaaaHhGaeaaaaaHhGaeaaapCHhaaeaaaaaHhGaeaaapBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaebNaaaHhGaeaaapBHhGaeaaaaaHhGaeaaaeAHhGaeaaapAHhGaeqNaaaHhGaeqNaaaHhGaeqNaaaHhGaeaaaaaHhGaeaaaaaHhaaeqNaaaHhGaeaaaaaHhGaeaaaaaGhaaeaaavxHhGaeaaaaaHhGaebNaaaHhGaeaaaaaHhGaeaaapBHhGaeaaaaaHhGaeaaapBHhGaeaaapBHhGaeaaaaaHhGaeaaaaaHhGaeaaapCHhaaeaaaaaHhGaeqNaaaHhaaeqNadyHhGaeaaapBHhaaeaaaiOHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeqNaaaHhGaeaaaaaHhaaeaaapBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeaaaiOHhGaeaaaaaHhGaeaaaaaHhGaeqNaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeqNaaaHhaaeaaadyHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhaaeqNaiOHhGaeaaaaaHhqaeqgaaaHhGaeaaapBHhGaeaaaaaHhGaeaaaaaHhGaeaaaaaHhGaeaaapBHhGaeaaaaaHhGaeqNaaaHhaaeaaaaaHhaaeaaaaaHhaaeaaaaaHhaaeqNaaaHhaaeqNaaaHhaaeqNaaaHhaaeaaaaaHhaaeqNaaaHhaaeaaaaaHhaaeaaaaaHhaaeqNaaaHhaaeqNaaaHhaaeaaaaaHhaaeaaaaaHhaaeqNaaa",
    15,
    17,
    -12,
    -62,
    59
)

map.positions = "cBcOc5dgdtdvdZea|cvcXdnfqfUgggIg-"
map.capabilities = 0

map.allowedMobGrades = {
    {54, 1},
    {54, 2},
    {54, 3},
    {54, 4},
    {54, 5},
    {110, 1},
    {110, 2},
    {110, 3},
    {110, 4},
    {110, 5},
    {290, 1},
    {290, 2},
    {290, 3},
    {290, 4},
    {290, 5},
    {291, 1},
    {291, 2},
    {291, 3},
    {291, 4},
    {291, 5},
    {281, 1},
    {281, 2},
    {281, 3},
    {281, 4},
    {281, 5},
    {298, 1},
    {298, 2},
    {298, 3},
    {298, 4},
    {298, 5},
    {300, 1},
    {300, 2},
    {300, 3},
    {300, 4},
    {300, 5},
    {301, 1},
    {301, 2},
    {301, 3},
    {301, 4},
    {301, 5},
}

local function tryEntering(_, _, p)
    if p:isGhost() then
        p:teleport(5699, 255)
    else
        -- TODO: send error (in chat)
    end
end

map.onMovementEnd = {
    [218] = moveEndTeleport(4853,245),
	[455] = moveEndTeleport(4799,36),
	[230] = moveEndTeleport(4800,262),
	[207] = tryEntering
}

RegisterMapDef(map)
